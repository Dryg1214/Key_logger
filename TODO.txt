1. Сделать формат для сохранения в файл 
2.Понять, как скипнуть пераый Released энтера
3.Составить/найти таблицу или константы кодировок клавиш
4.Разобраться какой нужен файл и какая структура для обработки мыши.
5.Понять, что такое поле timeval